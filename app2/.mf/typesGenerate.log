[2025-12-18T23:59:39.812] [INFO] forkDevWorker - ChildProcess(45744), message: {"type":"mf_call","id":"344dbb7d-af99-430b-a8e8-361e4666f55b","args":[{"name":"app2","remote":{"context":"/Users/benbwkz/Desktop/monorepo2/app2","outputDir":"","moduleFederationConfig":{"name":"app2","filename":"remoteEntry.js","exposes":{"./Button":"./src/Button"},"runtimePlugins":["/Users/benbwkz/Desktop/monorepo2/node_modules/.pnpm/@module-federation+dts-plugin@0.21.6_typescript@5.5.3/node_modules/@module-federation/dts-plugin/dist/dynamic-remote-type-hints-plugin.js"]},"hostRemoteTypesFolder":"@mf-types","compileInChildProcess":true,"typesFolder":".dev-server"},"host":{"context":"/Users/benbwkz/Desktop/monorepo2/app2","moduleFederationConfig":{"name":"app2","filename":"remoteEntry.js","exposes":{"./Button":"./src/Button"},"runtimePlugins":["/Users/benbwkz/Desktop/monorepo2/node_modules/.pnpm/@module-federation+dts-plugin@0.21.6_typescript@5.5.3/node_modules/@module-federation/dts-plugin/dist/dynamic-remote-type-hints-plugin.js"]},"typesFolder":"@mf-types","abortOnError":false,"consumeAPITypes":true},"extraOptions":{},"disableLiveReload":false,"disableHotTypesReload":false}]} 
[2025-12-18T23:59:40.617] [INFO] forkDevWorker - app2 module generateTypes done, localServerAddress:  http://192.168.1.208:58187
[2025-12-18T23:59:40.618] [INFO] Module Federation DTS - Publisher:app2 Trying to connect to ws://192.168.1.208:16322...
[2025-12-18T23:59:40.621] [FATAL] Module Federation DTS - Failed to connect to ws://192.168.1.208:16322...
[2025-12-18T23:59:40.622] [WARN] Module Federation DTS - Connection closed with code 1006.
[2025-12-18T23:59:40.622] [INFO] Module Federation DTS - start reconnecting to server after 1s.
[2025-12-18T23:59:40.708] [WARN] Module Federation DTS - Creating new background broker...
[2025-12-18T23:59:40.765] [INFO] StartBroker - startBroker... 45770
[2025-12-18T23:59:40.778] [INFO] Module Federation DTS - background broker started.
[2025-12-18T23:59:41.626] [INFO] Module Federation DTS - Publisher:app2 Trying to connect to ws://192.168.1.208:16322...
[2025-12-18T23:59:41.638] [INFO] Module Federation DTS - Current pid: 45744, publisher:app2 connected to ws://192.168.1.208:16322, starting service...
[2025-12-18T23:59:41.642] [INFO] Broker - ADD_PUBLISHER action received 
[2025-12-18T23:59:41.643] [INFO] Broker - [ADD_PUBLISHER] mf :app2:192.168.1.208 Adding Publisher Succeed
[2025-12-18T23:59:43.969] [INFO] Broker - ADD_PUBLISHER action received 
[2025-12-18T23:59:43.970] [INFO] Broker - [ADD_PUBLISHER] mf :app1:192.168.1.208 Adding Publisher Succeed
[2025-12-18T23:59:43.972] [INFO] Broker - ADD_SUBSCRIBER action received 
[2025-12-18T23:59:43.973] [INFO] Publisher - app2 set subscriber: mf :app1:192.168.1.208
[2025-12-18T23:59:43.973] [INFO] Broker - [ADD_SUBSCRIBER]: mf :app2:192.168.1.208 has been started, Adding Subscriber app1 Succeed, this.__publisherMap are: [["mf :app2:192.168.1.208",{"_ip":"192.168.1.208","_name":"app2","_remoteTypeTarPath":"http://192.168.1.208:58187/@mf-types.zip","_subscribers":{},"_ws":{"_events":{},"_eventsCount":3,"_binaryType":"nodebuffer","_closeCode":1006,"_closeFrameReceived":false,"_closeFrameSent":false,"_closeMessage":{"type":"Buffer","data":[]},"_closeTimer":null,"_errorEmitted":false,"_extensions":{},"_paused":false,"_protocol":"","_readyState":1,"_receiver":{"_events":{},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"_allowSynchronousEvents":true,"_binaryType":"nodebuffer","_extensions":{},"_isServer":true,"_maxPayload":104857600,"_skipUTF8Validation":false,"_bufferedBytes":0,"_buffers":[],"_compressed":false,"_payloadLength":171,"_mask":{"type":"Buffer","data":[141,195,200,41]},"_fragmented":0,"_masked":true,"_fin":true,"_opcode":1,"_totalPayloadLength":0,"_messageLength":0,"_fragments":[],"_errored":false,"_loop":false,"_state":0,"_eventsCount":6},"_sender":{"_extensions":{},"_socket":{"connecting":false,"_hadError":false,"_parent":null,"_host":null,"_closeAfterHandlingError":false,"_events":{"end":[null,null]},"_readableState":{"highWaterMark":16384,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"allowHalfOpen":true,"_eventsCount":4,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"_server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"parser":null,"_paused":false,"timeout":0},"_firstFragment":true,"_compress":false,"_bufferedBytes":0,"_queue":[],"_state":0},"_socket":{"connecting":false,"_hadError":false,"_parent":null,"_host":null,"_closeAfterHandlingError":false,"_events":{"end":[null,null]},"_readableState":{"highWaterMark":16384,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"allowHalfOpen":true,"_eventsCount":4,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"_server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"parser":null,"_paused":false,"timeout":0},"_autoPong":true,"_isServer":true},"dynamicRemoteMap":{}}],["mf :app1:192.168.1.208",{"_ip":"192.168.1.208","_name":"app1","_remoteTypeTarPath":"http://192.168.1.208:58208/@mf-types.zip","_subscribers":{},"_ws":{"_events":{},"_eventsCount":3,"_binaryType":"nodebuffer","_closeCode":1006,"_closeFrameReceived":false,"_closeFrameSent":false,"_closeMessage":{"type":"Buffer","data":[]},"_closeTimer":null,"_errorEmitted":false,"_extensions":{},"_paused":false,"_protocol":"","_readyState":1,"_receiver":{"_events":{},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"_allowSynchronousEvents":true,"_binaryType":"nodebuffer","_extensions":{},"_isServer":true,"_maxPayload":104857600,"_skipUTF8Validation":false,"_bufferedBytes":0,"_buffers":[],"_compressed":false,"_payloadLength":171,"_mask":{"type":"Buffer","data":[83,144,7,40]},"_fragmented":0,"_masked":true,"_fin":true,"_opcode":1,"_totalPayloadLength":0,"_messageLength":0,"_fragments":[],"_errored":false,"_loop":false,"_state":0,"_eventsCount":6},"_sender":{"_extensions":{},"_socket":{"connecting":false,"_hadError":false,"_parent":null,"_host":null,"_closeAfterHandlingError":false,"_events":{"end":[null,null]},"_readableState":{"highWaterMark":16384,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"allowHalfOpen":true,"_eventsCount":4,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"_server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"parser":null,"_paused":false,"timeout":0},"_firstFragment":true,"_compress":false,"_bufferedBytes":0,"_queue":[],"_state":0},"_socket":{"connecting":false,"_hadError":false,"_parent":null,"_host":null,"_closeAfterHandlingError":false,"_events":{"end":[null,null]},"_readableState":{"highWaterMark":16384,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_writableState":{"highWaterMark":16384,"length":0,"corked":0,"writelen":0,"bufferedIndex":0,"pendingcb":0},"allowHalfOpen":true,"_eventsCount":4,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"_server":{"requestTimeout":300000,"headersTimeout":60000,"keepAliveTimeout":5000,"connectionsCheckingInterval":30000,"requireHostHeader":true,"rejectNonStandardBodyWrites":false,"_events":{},"_eventsCount":3,"_connections":3,"_handle":{"reading":false},"_usingWorkers":false,"_workers":[],"_unref":false,"_listeningId":2,"allowHalfOpen":true,"pauseOnConnect":false,"noDelay":true,"keepAlive":false,"keepAliveInitialDelay":0,"highWaterMark":16384,"httpAllowHalfOpen":false,"timeout":0,"maxHeadersCount":null,"maxRequestsPerSocket":0,"_connectionKey":"6::::16322"},"parser":null,"_paused":false,"timeout":0},"_autoPong":true,"_isServer":true},"dynamicRemoteMap":{}}]]
[2025-12-18T23:59:43.974] [INFO] Broker - [ADD_SUBSCRIBER]: notifySubscriber Subscriber app1, updateMode: "PASSIVE",  updateSourcePaths: app2
[2025-12-18T23:59:43.974] [INFO] Publisher - [notifySubscriber] app2 notifySubscriber: "mf :app1:192.168.1.208", message: {"type":"API","kind":"UPDATE_SUBSCRIBER","time":1766102383973,"code":0,"payload":{"updateKind":"UPDATE_TYPE","updateMode":"PASSIVE","updateSourcePaths":["app2"],"remoteTypeTarPath":"http://192.168.1.208:58187/@mf-types.zip","name":"app2"}}
[2025-12-18T23:59:43.976] [INFO] Broker - NOTIFY_WEB_CLIENT action received 
[2025-12-18T23:59:43.976] [WARN] Broker - [NOTIFY_WEB_CLIENT] mf :app1 has not been added, this action will be ignored
[2025-12-18T23:59:43.992] [INFO] Broker - UPDATE_PUBLISHER action received 
[2025-12-18T23:59:43.992] [WARN] Publisher - [BroadCast] app1's subscribe is empty
[2025-12-18T23:59:43.992] [INFO] Broker - [UPDATE_PUBLISHER] mf :app1:192.168.1.208 update, and notify subscribers to update
